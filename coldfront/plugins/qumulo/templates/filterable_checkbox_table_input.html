{% load static %}

<div class="table-responsive">
  <table class="table table-sm">
    <thead>
      <tr>
        <th scope="col" class="text-nowrap">
          <input type="checkbox" id="select_all" name="select_all" value="select_all">
        </th>
        {% for column in widget.columns%}
          <th scope="col" class="text-nowrap">
            {{column}}
            <a href="?order_by={{column|lower}}&direction=asc&{{filter_parameters}}">
              <i class="fas fa-sort-up" aria-hidden="true"></i>
              <span class="sr-only">
                Sort {{column}} asc
              </span>
            </a>
            <a href="?order_by={{column|lower}}&direction=des&{{filter_parameters}}">
              <i class="fas fa-sort-down" aria-hidden="true"></i>
              <span class="sr-only">
                Sort {{column}} desc
              </span>
              </a>
          </th>
        {% endfor %}
      </tr>
    </thead>
    <tbody id="{{widget.name}}-options-tbody">
      {% comment %} {% for option in widget.options %} {% endcomment %}
        {% comment %} <tr id="{{widget.name}}-options-tr" class="text-nowrap">
          <td><input type="checkbox" id="_{{option.label.id}}" name="allocation_{{option.label.id}}" value="{{option.label.id}}"></td>
          <td>{{ option.label.id }}</td>
          <td class="text-nowrap">{{ option.label.resource_name}}</td>
          <td class="text-nowrap">{{ option.label.allocation_status }}</td>
          <td class="text-nowrap">{{ option.label.file_path }}</td>
        </tr> {% endcomment %}
      {% comment %} {% endfor %} {% endcomment %}
    </tbody>
  </table>
</div>

<script type="text/javascript">
  window.addEventListener("DOMContentLoaded", () => new FilterableCheckboxTableInput("{{widget.name}}"))
</script>
{{ widget.options|json_script:"checkbox-table-options" }}
{{ widget.columns|json_script:"checkbox-table-columns" }}