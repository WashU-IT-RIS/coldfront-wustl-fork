itsm_to_coldfront_map:
  department_number:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: department_number
          value:
            type: string
            transforms: null
            validates:
              presence: true
              length:
                maximum: 128
    itsm_value:
      entity: service_provision
      attribute: department_number
      type: string
      nulls: true
  funding_number:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: cost_center
          value:
            type: string
            transforms: null
            validates:
              presence: true
              length:
                maximum: 128
    itsm_value:
      entity: service_provision
      attribute: funding_number
      type: string
      nulls: true
  billing_contact:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: billing_contact
          value:
            type: string
            transforms: null
            validates:
              length:
                maximum: 128
                allow_blank: true
    itsm_value:
      entity: service_provision
      attribute: billing_contact
      type: string
      nulls: true
  technical_contact:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: technical_contact
          value:
            type: string
            transforms: null
            validates:
              length:
                maximum: 128
                allow_blank: true
    itsm_value:
      entity: service_provision
      attribute: technical_contact
      type: string
      nulls: true
  secure:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: secure
          value:
            type: string
            transforms: boolean_to_string
            validates:
              inclusion: [true, False]
    itsm_value:
      entity: service_provision
      attribute: secure
      type: boolean
  service_desk_ticket_number:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: storage_ticket
          value:
            type: string
            transforms: null
            validates:
              presence: true
              validate_ticket: true
    itsm_value:
      entity: service_provision
      attribute: service_desk_ticket_number
      type: string
  audit:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: audit
          value:
            type: string
            transforms: truthy_and_falsy_to_boolean_to_string
            validates:
              inclusion: [true, False, null]
    itsm_value:
      entity: service_provision
      attribute: audit
      type: string
      values: ["0", "1", "false", "true", null]
  billing_startdate:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: billing_startdate
          value:
            type: string
            transforms: date_to_string
            validates:
              presence: true # Is the conditionally necessary?
    itsm_value:
      entity: service_provision
      attribute: billing_startdate
      type: date
      nulls: true
  sponsor_department_number:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: sponsor_department_number
          value:
            type: string
            transforms: null
            validates:
              presence: true # is this conditionally necessary?
              length:
                maximum: 128
    itsm_value:
      entity: service_provision
      attribute: sponsor_department_number
      type: string
      nulls: true
  fileset_name:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: fileset_name
          value:
            type: string
            transforms: null
            validates:
              presence: true
              length:
                maximum: 128
    itsm_value:
      entity: service_provision
      attribute: fileset_name
      type: string
      nulls: true # found nulls and found duplicates
  fileset_alias:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: fileset_alias
          value:
            type: string
            transforms: null
            validates:
              presence: true
              length:
                maximum: 128
    itsm_value:
      entity: service_provision
      attribute: fileset_alias
      type: string
      nulls: true # found nulls and found duplicates
  exempt:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: exempt
          value:
            type: string
            transforms: boolean_to_string
            validates:
              inclusion: [true, False]
    itsm_value:
      entity: service_provision
      attribute: exempt
      type: boolean
      nulls: true
      defaults_to: False
  service_rate_category:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: service_rate_category
          value:
            type: string
            transforms: null
            validates:
              inclusion: ["condo", "consumption", "subscription"]
    itsm_value:
      entity: service_provision
      attribute: service_rate_category
      type: string
      values: ["condo", "consumption", "subscription"] # if the status is active
      nulls: true
  comment:
    coldfront:
      - entity: allocation_attribute
        attributes:
          attribute: comment
          value:
            type: json
            transforms: blank_to_none
            validates:
              - json: true
    itsm_value:
      entity: service_provision
      attribute: comment
      type: text
      nulls: true
  billing_cycle:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: billing_cycle
          value:
            type: emum
            transforms: null
            validates:
              presence: true
              length:
                maximum: 128
              inclusion: [monthly, yearly, quarterly, prepaid, fiscal year]
    itsm_value:
      entity: service_provision
      attribute: billing_cycle
      type: string # In fact the data type is a user defined named billing_cycle with labels: [ monthly, yearly, quarterly, prepaid, fiscal year]. For simplicity, let's set it to string.
      nulls: true
  subsidized:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: subsidized
          value:
            type: string
            transforms: boolean_to_string
            validates:
              inclusion: [true, False]
    itsm_value:
      entity: service_provision
      attribute: subsidized
      type: boolean
      nulls: true
  quota:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: storage_quota
          value:
            type: string
            transforms: string_to_integer_parsing_value_and_unit_to_string
            validates:
              presence: true
              numericallity:
                only_integer: true
                greater_than: 0
                less_than_or_equal_to: 2000
    itsm_value:
      entity: service_provision
      attribute: department_number
      type: string
      nulls: true
  allow_nonfaculty:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: allow_nonfaculty
          value:
            type: string
            transforms: boolean_to_string
            validates:
              inclusion: [true, False] # should NULL default to False?
      - entity: allocation_project
        attributes:
          allow_nonfaculty:
            type: string
            transforms: boolean_to_string
            validates:
              inclusion: [true, False] # should NULL default to False?
    itsm_value:
      entity: service_provision
      attribute: department_number
      type: boolean
      nulls: true
  sla:
    coldfront:
      - entity: allocation_attribute
        attributes:
          name: sla
          value:
            transforms: null
            validates:
              length:
                maximum: 128
                allow_blank: true
    itsm_value:
      entity: service_provision
      attribute: sla
      type: string
  id: null
  name: null
  department_name: null
  sponsor: null
  creation_timestamp: null
  service_id: null
  status: null
  acl_group_members: null
  who: null
  parent_id: null
  is_condo_group: null
